# ğŸ“˜ Why Should I Learn Go?

# ä¸ºä»€ä¹ˆè¦å­¦ä¹  Go è¯­è¨€ï¼Ÿ

---

## 1. âš¡ Go Code Runs Fast

## Go ä»£ç è¿è¡Œé€Ÿåº¦å¿«

* Go æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼ˆcompiled languageï¼‰
* ç¼–è¯‘åçš„ç¨‹åºæ¥è¿‘æœºå™¨ç ï¼ˆmachine codeï¼‰ï¼Œæ‰§è¡Œé€Ÿåº¦æ¥è¿‘ C/C++
* é€‚åˆå†™é«˜æ€§èƒ½ç¨‹åºï¼Œå¦‚æœåŠ¡å™¨ã€åˆ†å¸ƒå¼ç³»ç»Ÿã€æ•°æ®åº“å·¥å…·ç­‰

**Keywordï¼ˆæœ¯è¯­ï¼‰**ï¼š

* *machine code*ï¼šæœºå™¨ç ï¼ŒCPU èƒ½ç›´æ¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æŒ‡ä»¤
* *compiled*ï¼šç¼–è¯‘å‹çš„

---

## 2. â™» Garbage Collectionï¼ˆåƒåœ¾å›æ”¶ï¼‰

## è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼ˆGarbage Collectionï¼‰

Go è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œæ— éœ€æ‰‹åŠ¨ malloc/freeã€‚

### Why important?

ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ

* äººå·¥å†…å­˜ç®¡ç†å®¹æ˜“å‡ºé”™ï¼ˆå†…å­˜æ³„æ¼ã€æ‚¬ç©ºæŒ‡é’ˆï¼‰
* GC è‡ªåŠ¨å†³å®š

  * **where** memory is allocatedï¼ˆå†…å­˜åœ¨å“ªåˆ†é…ï¼‰
  * **when** memory can be deallocatedï¼ˆå†…å­˜ä½•æ—¶é‡Šæ”¾ï¼‰

### Notes

* Garbage collection é€šå¸¸æ˜¯è§£é‡Šå‹è¯­è¨€ï¼ˆPythonã€JavaScriptï¼‰çš„ç‰¹æ€§
* Go ä½œä¸ºç¼–è¯‘å‹è¯­è¨€å´å†…ç½® GC â†’ ç»“åˆäº† **é«˜æ€§èƒ½ + æ˜“ç”¨æ€§**

---

## 3. ğŸ§± Simpler Objects

## æ›´ç®€å•çš„â€œå¯¹è±¡â€æ¦‚å¿µ

Go æœ‰é¢å‘å¯¹è±¡æ€æƒ³ï¼Œä½†ä¸ä½¿ç”¨ classï¼Œè€Œæ˜¯ï¼š

* **structsï¼ˆç»“æ„ä½“ï¼‰** ç”¨æ¥ç»„ç»‡æ•°æ®
* **methodsï¼ˆæ–¹æ³•ï¼‰** ç»‘å®šåˆ° struct ä¸Š

```
type Point struct {
    X, Y, Z float64
}

func (p Point) DistToOrigin() float64 { ... }
```

### Benefits

* è¯­æ³•æ›´ç®€å•ï¼Œæ²¡æœ‰ç»§æ‰¿ï¼ˆinheritanceï¼‰çš„å¤æ‚æ€§
* ç”¨ç»„åˆï¼ˆcompositionï¼‰ä»£æ›¿ç»§æ‰¿ï¼Œæ›´çµæ´»

**Keywords**ï¼š

* *encapsulation* å°è£…
* *composition over inheritance* ç»„åˆä¼˜äºç»§æ‰¿

---

## 4. ğŸ§µ Concurrency Is Efficientï¼ˆå¹¶å‘é«˜æ•ˆï¼‰

## Go çš„å¹¶å‘éå¸¸é«˜æ•ˆ

Go æœ€å¤§äº®ç‚¹ï¼š**åŸç”Ÿæ”¯æŒ concurrencyï¼ˆå¹¶å‘ï¼‰**ã€‚

### Key Concepts

#### Machine/Parallelismï¼ˆå¹¶è¡Œæ€§ï¼‰ Basics

* **Machine Languageï¼ˆæœºå™¨è¯­è¨€ï¼‰**ï¼šäºŒè¿›åˆ¶è¡¨ç¤ºçš„ CPU æŒ‡ä»¤
* **Assembly Languageï¼ˆæ±‡ç¼–ï¼‰**ï¼šä½¿ç”¨åŠ©è®°ç¬¦ mnemonicsï¼ˆå¦‚ MOVã€PUSHï¼‰è¡¨ç¤ºæœºå™¨æŒ‡ä»¤
* **High-level Languageï¼ˆé«˜çº§è¯­è¨€ï¼‰**ï¼šC, C++, Java, Python, Goâ€¦

æ‰€æœ‰è¯­è¨€æœ€ç»ˆå¿…é¡»è¢«ç¿»è¯‘æˆæœºå™¨ç æ‰èƒ½è¿è¡Œã€‚

---

### Compiled vs. Interpreted

### ç¼–è¯‘å‹ vs è§£é‡Šå‹

#### Compiledï¼ˆç¼–è¯‘å‹ï¼‰

ä¸€æ¬¡æ€§ç¿»è¯‘å…¨éƒ¨ä»£ç  â†’ è¾“å‡ºå¯æ‰§è¡Œæ–‡ä»¶

* C / C++ / Go / Javaï¼ˆéƒ¨åˆ†ï¼‰

ä¼˜ç‚¹ï¼š**å¿«**
ç¼ºç‚¹ï¼šå¼€å‘æ—¶éœ€è¦é‡æ–°ç¼–è¯‘

#### Interpretedï¼ˆè§£é‡Šå‹ï¼‰

è¾¹è¿è¡Œè¾¹ç¿»è¯‘

* Python / JavaScript

ä¼˜ç‚¹ï¼šå†™ä»£ç æ›´è½»æ¾
ç¼ºç‚¹ï¼šæ¯æ¬¡è¿è¡Œéƒ½éœ€è¦é‡æ–°ç¿»è¯‘ â†’ æ…¢

---

### Parallelism vs Concurrency

### å¹¶è¡Œ vs å¹¶å‘ï¼ˆå…³é”®æ¦‚å¿µï¼‰

| åè¯              | ä¸­æ–‡ | è§£é‡Š                           |
| --------------- | -- | ---------------------------- |
| **Parallelism** | å¹¶è¡Œ | å¤šä¸ªä»»åŠ¡åœ¨ç‰©ç†ä¸Š **åŒæ—¶è¿è¡Œ**ï¼ˆä¾èµ– CPU å¤šæ ¸ï¼‰ |
| **Concurrency** | å¹¶å‘ | åœ¨åŒä¸€æ—¶é—´æ®µ **ç®¡ç†å¤šä¸ªä»»åŠ¡**ï¼ˆä¸è¦æ±‚çœŸæ­£åŒæ—¶ï¼‰   |

**æ¯”å–»ï¼š**

* å¹¶è¡Œï¼šå¤šä¸ªäººåŒæ—¶åšé¥­
* å¹¶å‘ï¼šä¸€ä¸ªäººå¿«é€Ÿåˆ‡æ¢ä¸åŒä»»åŠ¡ï¼ˆåˆ‡èœâ†’ç‚’èœâ†’æ´—é”…ï¼‰

---

### Challenges with Parallelismï¼ˆå¹¶è¡Œçš„éš¾ç‚¹ï¼‰

* ä»»åŠ¡ä½•æ—¶å¼€å§‹ / åœæ­¢ï¼Ÿ
* å¦‚æœä»»åŠ¡ A éœ€è¦ä»»åŠ¡ B çš„æ•°æ®æ€ä¹ˆåŠï¼Ÿ
* æ˜¯å¦ä¼šå‘ç”Ÿå†…å­˜å†²çªï¼ˆrace conditionsï¼‰ï¼Ÿ

---

### Go's Concurrency Model

### Go çš„å¹¶å‘æ¨¡å‹

Go æä¾›åŸç”Ÿå¹¶å‘æœºåˆ¶ï¼š

* **goroutines**ï¼šè½»é‡çº¿ç¨‹ï¼ˆå‡  KB stackï¼‰
* **channels**ï¼šç”¨äº goroutine ä¹‹é—´çš„é€šè®¯
* **select**ï¼šå¤šè·¯é€šä¿¡é€‰æ‹©ï¼Œç”¨äºåè°ƒ / åŒæ­¥

ç‰¹ç‚¹ï¼š

* æ˜“å†™
* é«˜æ•ˆ
* å’Œç½‘ç»œ/åç«¯ä»»åŠ¡éå¸¸å¥‘åˆ

---

# # ğŸ“ Go Workspaces

# Go å·¥ä½œç©ºé—´

Go æ¨èçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š

```
workspace/
    src/
    pkg/
    bin/
```

è¯´æ˜ï¼š

| ç›®å½•     | åŠŸèƒ½      |
| ------ | ------- |
| `src/` | æºä»£ç      |
| `pkg/` | ç¼–è¯‘åçš„åŒ…   |
| `bin/` | æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶ |

> ğŸ“ å·¥ä½œç©ºé—´ç»“æ„æ˜¯æ¨èçš„ï¼Œä½†ä¸æ˜¯å¼ºåˆ¶è¦æ±‚ã€‚

---

# # ğŸ“¦ Packages

# Go çš„åŒ…ç³»ç»Ÿ

æ¯ä¸ª Go æ–‡ä»¶éƒ½å±äºä¸€ä¸ª `package`ã€‚

ç¤ºä¾‹ï¼š

```go
package main
import "fmt"

func main() {
    fmt.Println("hello world")
}
```

è§„åˆ™ï¼š

* å¿…é¡»åŒ…å«ä¸€ä¸ª **package main** æ‰èƒ½ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
* å¿…é¡»åŒ…å« **func main()** ä½œä¸ºç¨‹åºå…¥å£

---

## Importï¼ˆå¯¼å…¥åŒ…ï¼‰

```
import (
    "fmt"
    "math"
)
```

Go æ ‡å‡†åº“ï¼ˆstandard libraryï¼‰å¾ˆä¸°å¯Œï¼Œä¾‹å¦‚ï¼š

* fmt
* math
* time
* strings
* net/http
* os

---

# # ğŸ”§ Go Toolchainï¼ˆgo å‘½ä»¤ï¼‰

å¸¸ç”¨ Go å·¥å…·ï¼š

| å‘½ä»¤         | ä½œç”¨      |
| ---------- | ------- |
| `go build` | ç¼–è¯‘ç¨‹åº    |
| `go run`   | ç¼–è¯‘ + è¿è¡Œ |
| `go fmt`   | è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  |
| `go get`   | ä¸‹è½½å¹¶å®‰è£…åŒ…  |
| `go doc`   | æŸ¥çœ‹æ–‡æ¡£    |
| `go test`  | è¿è¡Œæµ‹è¯•    |
| `go list`  | æŸ¥çœ‹åŒ…     |

---

# # ğŸ“ Namingï¼ˆå‘½åè§„åˆ™ï¼‰

* å˜é‡åå¿…é¡»ä»¥å­—æ¯å¼€å¤´
* åŒºåˆ†å¤§å°å†™
* åŒä¸€ä½œç”¨åŸŸä¸èƒ½é‡å¤å£°æ˜

---

# # ğŸ“Š Variablesï¼ˆå˜é‡ï¼‰

### å˜é‡å£°æ˜ï¼ˆé•¿æ ¼å¼ï¼‰

```go
var x int
var x, y int
```

### ç±»å‹å£°æ˜ï¼ˆtype declarationï¼‰

```go
type IDnum int
type Celsius float64

var t Celsius
var pid IDnum
```

---

### é›¶å€¼ï¼ˆZero Valueï¼‰

* `int` â†’ `0`
* `string` â†’ `""`
* `bool` â†’ `false`
* `pointer` â†’ `nil`

---

### çŸ­å˜é‡å£°æ˜ï¼ˆçŸ­æ ¼å¼ï¼‰

åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼š

```go
x := 100
```

Go ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼ˆtype inferenceï¼‰ã€‚

---



````markdown

# ğŸ§© Basic Data Types & Core Syntax in Go  
# Go åŸºç¡€æ•°æ®ç±»å‹ä¸æ ¸å¿ƒè¯­æ³•ç¬”è®°

---

## 1. ğŸ”— Pointersï¼ˆæŒ‡é’ˆï¼‰

> A pointer is an address to data in memory  
> æŒ‡é’ˆå°±æ˜¯â€œå†…å­˜ä¸­æ•°æ®çš„åœ°å€â€ã€‚

åœ¨ Go é‡Œï¼ŒæŒ‡é’ˆçš„æœ¬è´¨æ˜¯ **â€œæŒ‡å‘æŸä¸ªå˜é‡çš„åœ°å€â€**ã€‚

### 1.1 `&` å’Œ `*` è¿ç®—ç¬¦

- `&` è¿ç®—ç¬¦ï¼š**å–åœ°å€ï¼ˆaddress-ofï¼‰**  
  - è¿”å›å˜é‡æˆ–å‡½æ•°åœ¨å†…å­˜ä¸­çš„åœ°å€  
- `*` è¿ç®—ç¬¦ï¼š**è§£å¼•ç”¨ï¼ˆdereferenceï¼‰**  
  - é€šè¿‡åœ°å€å–å‡ºè¯¥åœ°å€æŒ‡å‘çš„æ•°æ®  

```go
var x int = 1
var y int
var ip *int   // ip is a pointer to intï¼ˆip æ˜¯ä¸€ä¸ªæŒ‡å‘ int çš„æŒ‡é’ˆï¼‰

ip = &x       // ip now points to xï¼ˆip ç°åœ¨æŒ‡å‘ x çš„åœ°å€ï¼‰
y = *ip       // y is now 1ï¼ˆé€šè¿‡ ip å–å‡º x çš„å€¼ï¼Œèµ‹ç»™ yï¼‰
````

**å…³é”®æœ¯è¯­ / Keywordsï¼š**

* *address*ï¼šåœ°å€
* *dereference*ï¼šè§£å¼•ç”¨ï¼ˆé€šè¿‡æŒ‡é’ˆè®¿é—®å…¶æŒ‡å‘çš„æ•°æ®ï¼‰

---

### 1.2 `new()` å‡½æ•°

> `new()`ï¼šå¦ä¸€ç§åˆ›å»ºå˜é‡çš„æ–¹å¼ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘é›¶å€¼çš„æŒ‡é’ˆã€‚

* `new(T)` ä¼šï¼š

  * åˆ†é…ä¸€ä¸ªç±»å‹ä¸º `T` çš„é›¶å€¼å˜é‡
  * è¿”å› `*T` ç±»å‹çš„æŒ‡é’ˆ

```go
ptr := new(int) // ptr æ˜¯ *intï¼ŒæŒ‡å‘ä¸€ä¸ªå€¼ä¸º 0 çš„ int
*ptr = 3        // ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¸º 3
```

**è§£é‡Šï¼š**

* `ptr := new(int)`

  * åˆ›å»ºäº†ä¸€ä¸ª `int` ç±»å‹çš„å˜é‡ï¼Œåˆå§‹å€¼ä¸º `0`
  * `ptr` æ˜¯ä¸€ä¸ªæŒ‡å‘è¯¥å˜é‡çš„æŒ‡é’ˆï¼ˆç±»å‹ä¸º `*int`ï¼‰
* `*ptr = 3`

  * è§£å¼•ç”¨ `ptr`ï¼ŒæŠŠå®ƒæŒ‡å‘çš„é‚£å—å†…å­˜çš„å€¼æ”¹ä¸º `3`

ğŸ‘‰ å¯¹æ¯”ä¸¤ç§å†™æ³•ï¼š

```go
// æ–¹å¼ 1ï¼šæ™®é€šå˜é‡
var x int   // x æ˜¯ä¸€ä¸ª intï¼Œé›¶å€¼ä¸º 0
x = 3

// æ–¹å¼ 2ï¼šç”¨ new
ptr := new(int) // åˆ›å»ºä¸€ä¸ª *int
*ptr = 3        // æ“ä½œæŒ‡é’ˆæŒ‡å‘çš„å€¼
```

* `var x int`ï¼šä½ ç›´æ¥æ‹¿ `x` è¿™ä¸ªåå­—å°±èƒ½ç”¨
* `ptr := new(int)`ï¼šä½ æ‹¿åˆ°çš„æ˜¯åœ°å€ï¼Œè¦ç”¨ `*ptr` æ‰èƒ½è®¿é—®å€¼

---

## 2. ğŸ“ Variable Scopeï¼ˆå˜é‡ä½œç”¨åŸŸï¼‰

> å˜é‡ä½œç”¨åŸŸï¼šåœ¨ä»£ç ä¸­ **å“ªé‡Œå¯ä»¥è®¿é—®åˆ°è¿™ä¸ªå˜é‡**ã€‚

### 2.1 ä¾‹å­ 1ï¼šåŒ…çº§å˜é‡ï¼ˆå…¨å±€ï¼‰

```go
var x = 4

func f() {
    fmt.Printf("%d\n", x)
}

func g() {
    fmt.Printf("%d\n", x)
}
```

* `x` åœ¨å‡½æ•°å¤–å£°æ˜ï¼Œæ˜¯ **åŒ…çº§å˜é‡**
* åŒä¸€ä¸ªåŒ…ä¸­çš„ `f` å’Œ `g` éƒ½å¯ä»¥è®¿é—® `x`

---

### 2.2 ä¾‹å­ 2ï¼šå±€éƒ¨å˜é‡

```go
func f() {
    var x = 4
    fmt.Printf("%d\n", x)
}

func g() {
    // è¿™é‡Œä¸èƒ½è®¿é—® f é‡Œçš„ x
    // fmt.Printf("%d\n", x) // âŒ ç¼–è¯‘é”™è¯¯ï¼šx æœªå®šä¹‰
}
```

* `x` åœ¨å‡½æ•° `f` å†…éƒ¨å£°æ˜ï¼Œåªèƒ½åœ¨ `f` å†…éƒ¨ä½¿ç”¨
* æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„å±€éƒ¨ä½œç”¨åŸŸ

---

## 3. ğŸ§± Blocksï¼ˆä»£ç å—ï¼‰ä¸éšå¼ä½œç”¨åŸŸå±‚çº§

> Blockï¼šç”± `{}` åŒ…è£¹çš„ä¸€æ®µä»£ç ï¼ŒåŒ…å«å£°æ˜å’Œè¯­å¥ã€‚

### 3.1 ä»€ä¹ˆæ˜¯ Blockï¼Ÿ

* ä»»æ„ä¸€å¯¹ `{}` ä¹‹é—´çš„ä»£ç 
* å‡½æ•°ä½“ã€`if` / `for` / `switch` / `select` ä¸­éƒ½æ˜¯ block

```go
func f() {            // å‡½æ•°ä½“æ˜¯ä¸€ä¸ª block
    if x > 0 {        // if å†…éƒ¨åˆæ˜¯ä¸€ä¸ª block
        y := 1
        fmt.Println(y)
    }
}
```

---

### 3.2 éšå¼ Block çš„å±‚æ¬¡ç»“æ„ï¼ˆHierarchy of Implicit Blocksï¼‰

Go ä¸­æœ‰ä¸€ç³»åˆ—â€œéšå¼å—â€çš„å±‚çº§æ¦‚å¿µï¼š

1. **universe blockï¼ˆå®‡å®™å—ï¼‰**

   * æœ€å¤–å±‚ä½œç”¨åŸŸï¼ŒåŒ…å«æ‰€æœ‰å†…å»ºæ ‡è¯†ç¬¦ï¼ˆ`int`, `string`, `true`, `false`, `nil` ç­‰ï¼‰

2. **package blockï¼ˆåŒ…å—ï¼‰**

   * æ¯ä¸ªåŒ…æœ‰è‡ªå·±çš„åŒ…çº§ä½œç”¨åŸŸï¼Œç”¨äºåŒ…çº§ `var` / `const` / `func` ç­‰å£°æ˜

3. **file blockï¼ˆæ–‡ä»¶å—ï¼‰**

   * æ¯ä¸ªæºæ–‡ä»¶çš„é¡¶å±‚å£°æ˜ï¼ˆåŒ…å« `import` ç­‰ï¼‰

4. **block of if/for/switch/select**

   * `if` / `for` / `switch` / `select` ä¸­ `{}` å†…éƒ¨çš„ä»£ç 

5. **clause block in switch or select**

   * `switch` æˆ– `select` çš„æ¯ä¸ª `case` / `default` å†…éƒ¨ä¹Ÿå„è‡ªæ˜¯ä¸€ä¸ª block

---

## 4. ğŸ§­ Lexical Scopingï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰

> Lexical scopingï¼šç”±ä»£ç çš„æ–‡æœ¬ç»“æ„å†³å®šå˜é‡å¯è§æ€§ã€‚
> é€šä¿—ç†è§£ï¼š**å†™åœ¨å¤–é¢çš„å¯ä»¥è¢«é‡Œé¢çœ‹åˆ°ï¼Œåè¿‡æ¥ä¸è¡Œ**ã€‚

ç¤ºä¾‹ï¼š

```go
var x = 4  // b1

func f() { // b2
    fmt.Printf("%d\n", x) // å¯ä»¥è®¿é—® b1 ä¸­çš„ x
}

func g() { // b3
    fmt.Printf("%d\n", x) // åŒæ ·å¯ä»¥è®¿é—® b1 ä¸­çš„ x
}
```

* å¤–å±‚å—ï¼ˆb1ï¼‰å®šä¹‰çš„å˜é‡ï¼Œåœ¨å†…å±‚å—ï¼ˆb2ã€b3ï¼‰ä¸­å¯è§
* å¦‚æœå†…å±‚é‡æ–°å£°æ˜åŒåå˜é‡ï¼Œä¼šâ€œé®è”½â€ï¼ˆshadowï¼‰å¤–å±‚å˜é‡

---

## 5. ğŸ§º Deallocating Space, Stack vs Heap

## é‡Šæ”¾ç©ºé—´ã€æ ˆä¸å †

### 5.1 Deallocating Spaceï¼ˆé‡Šæ”¾ç©ºé—´ï¼‰

> å½“ä¸€ä¸ªå˜é‡ **ä¸å†è¢«ä½¿ç”¨** æ—¶ï¼Œå®ƒå ç”¨çš„å†…å­˜å°±åº”è¯¥è¢«å›æ”¶ï¼ˆdeallocatedï¼‰ï¼Œä»¥ä¾¿é‡æ–°åˆ©ç”¨ã€‚

---

### 5.2 Stack vs Heapï¼ˆæ ˆ vs å †ï¼‰

ç¤ºä¾‹ï¼š

```go
var x = 4 // å¯èƒ½åœ¨å †ä¸Šï¼ˆç”±ç¼–è¯‘å™¨å†³å®šï¼‰

func f() {
    var x = 4 // é€šå¸¸åœ¨æ ˆä¸Š
}
```

* **stackï¼ˆæ ˆï¼‰**ï¼š

  * ä¸ºå‡½æ•°è°ƒç”¨ **ä¸“ç”¨ï¼ˆdedicatedï¼‰** çš„å†…å­˜åŒºåŸŸ
  * â€œdedicatedâ€ ä¸­æ–‡ï¼š**ä¸“ç”¨çš„ / ä¸“é—¨ç”¨äºæŸä¸ªç›®çš„çš„**
  * æ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ ˆå¸§ï¼ˆstack frameï¼‰ï¼Œå‡½æ•°è¿”å›æ—¶æ ˆå¸§æ•´ä½“é‡Šæ”¾ â†’ éå¸¸å¿«

* **heapï¼ˆå †ï¼‰**ï¼š

  * ç”¨äºå­˜æ”¾ç”Ÿå‘½å‘¨æœŸä¸ç¡®å®šã€å¯èƒ½ä¼šåœ¨å‡½æ•°è¿”å›åç»§ç»­è¢«å¼•ç”¨çš„æ•°æ®
  * éœ€è¦æ‰‹åŠ¨æˆ– GC æ¥ç®¡ç†

åœ¨ C è¯­è¨€ä¸­å †å†…å­˜ç®¡ç†ï¼š

```c
x = malloc(32);
free(x);
```

* æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾
* error-proneï¼ˆå®¹æ˜“å‡ºé”™ï¼‰ï¼Œä½†è¿è¡Œæ€§èƒ½é«˜

---

## 6. â™» Garbage Collectionï¼ˆåƒåœ¾å›æ”¶ï¼‰ä¸æŒ‡é’ˆ

### 6.1 Pointers and Deallocationï¼ˆæŒ‡é’ˆä¸é‡Šæ”¾ï¼‰

> å¾ˆéš¾ç²¾ç¡®åˆ¤æ–­ï¼š**ä¸€ä¸ªå˜é‡ä»€ä¹ˆæ—¶å€™çœŸçš„â€œä¸å†è¢«ä½¿ç”¨â€**ã€‚

ç¤ºä¾‹ï¼š

```go
func foo() *int {
    x := 1
    return &x
}

func main() {
    var y *int
    y = foo()
    fmt.Printf("%d\n", *y)
}
```

* åœ¨ `foo` ä¸­ï¼Œ`x` æ˜¯å±€éƒ¨å˜é‡
* ä½†æˆ‘ä»¬è¿”å›çš„æ˜¯ `&x`ï¼ˆx çš„åœ°å€ï¼‰
* å¦‚æœåƒ C é‚£æ ·æŠŠ `x` æ”¾åœ¨æ ˆä¸Šï¼Œå‡½æ•°è¿”å›åæ ˆå¸§è¢«é”€æ¯ï¼Œè¿™ä¸ªåœ°å€å°±æˆäº†â€œé‡æŒ‡é’ˆâ€

åœ¨ Go ä¸­ï¼š

* ç¼–è¯‘å™¨ä¼šå‘ç° `x` çš„åœ°å€è¢«è¿”å›
* è‡ªåŠ¨æŠŠ `x` åˆ†é…åˆ°å †ä¸Šï¼Œç”±åƒåœ¾å›æ”¶å™¨ç®¡ç†

---

### 6.2 Go çš„ GC ç‰¹ç‚¹

* åœ¨å¾ˆå¤šè§£é‡Šå‹è¯­è¨€ï¼ˆå¦‚ Java, Pythonï¼‰ä¸­ï¼ŒGC æ˜¯ç”±è™šæ‹Ÿæœºï¼ˆJVMã€Python interpreterï¼‰è´Ÿè´£çš„
* è¿™äº›è¯­è¨€å¯¹ç¨‹åºå‘˜å‹å¥½ï¼Œä½†éœ€è¦è§£é‡Šå™¨/è™šæ‹Ÿæœº â†’ è¿è¡Œä¼šæ¯”åŸç”Ÿæœºå™¨ç æ…¢

Go çš„ç‹¬ç‰¹ä¹‹å¤„ï¼š

* æ˜¯ **ç¼–è¯‘è¯­è¨€ + åƒåœ¾å›æ”¶ï¼ˆgarbage collectionï¼‰** çš„ç»„åˆ
* ç¼–è¯‘å™¨å†³å®šæ ˆ/å †åˆ†é…ï¼ˆstack vs heapï¼‰
* GC åœ¨åå°è¿è¡Œï¼ˆin the backgroundï¼‰è‡ªåŠ¨æ¸…ç†ä¸å†ä½¿ç”¨çš„å¯¹è±¡
* ç¼ºç‚¹ï¼šGC ä¼šå ç”¨ä¸€äº›è¿è¡Œæ—¶é—´ï¼Œæ˜¯ä¸€ç§æ€§èƒ½ä¸Šçš„ trade-offï¼ˆæƒè¡¡ï¼‰

---

## 7. ğŸ’¬ Commentsï¼ˆæ³¨é‡Šï¼‰

```go
// This is a comment
// è¿™æ˜¯å•è¡Œæ³¨é‡Š

/*
comment 1
comment 2
è¿™æ˜¯å¤šè¡Œæ³¨é‡Š
*/
```

* `//` å¼€å¤´ï¼šå•è¡Œæ³¨é‡Š
* `/* ... */`ï¼šå¤šè¡Œæ³¨é‡Š

---

## 8. ğŸ–¨ Printing & `fmt` Packageï¼ˆè¾“å‡ºï¼‰

ä½¿ç”¨ `fmt` åŒ…æ¥æ‰“å°ä¿¡æ¯ï¼š

```go
import "fmt"

fmt.Printf("Hi %s\n", x)
fmt.Println("Hello", "Go")
```

* `Printf`ï¼šå¸¦æ ¼å¼å­—ç¬¦ä¸²çš„è¾“å‡ºï¼Œç±»ä¼¼ C è¯­è¨€çš„ `printf`
* å¸¸è§æ ¼å¼åŒ–å ä½ç¬¦ï¼š

  * `%d`ï¼šæ•´æ•°ï¼ˆdecimalï¼‰
  * `%s`ï¼šå­—ç¬¦ä¸²ï¼ˆstringï¼‰
  * `%f`ï¼šæµ®ç‚¹æ•°ï¼ˆfloatï¼‰

---

## 9. ğŸ”¢ Integersï¼ˆæ•´æ•°ï¼‰

### 9.1 é€šç”¨å£°æ˜

```go
var x int // é»˜è®¤æ•´æ•°ç±»å‹ï¼Œä½æ•°ä¾å¹³å°ï¼ˆ32/64ï¼‰
```

### 9.2 æ˜ç¡®ä½å®½çš„æ•´æ•°ç±»å‹

* æœ‰ç¬¦å·ï¼š`int8`, `int16`, `int32`, `int64`
* æ— ç¬¦å·ï¼š`uint8`, `uint16`, `uint32`, `uint64`

> æ— ç¬¦å·ï¼ˆunsignedï¼‰ï¼šæ²¡æœ‰è´Ÿå·ï¼Œå…¨éƒ¨ä½éƒ½ç”¨æ¥è¡¨ç¤ºæ­£æ•° â†’ è¡¨ç¤ºèŒƒå›´æ›´å¤§ã€‚
> ä¾‹å¦‚ `uint8` èŒƒå›´ä¸º 0â€“255ã€‚

---

### 9.3 è¿ç®—ç¬¦

* ç®—æœ¯è¿ç®—ï¼š`+ - * / % << >>`
* æ¯”è¾ƒè¿ç®—ï¼š`== != > < >= <=`

æ¯”è¾ƒè¿ç®—çš„ç»“æœç±»å‹ä¸º `bool`ã€‚

---

### 9.4 Type Conversionï¼ˆç±»å‹è½¬æ¢ï¼‰

```go
var x int32 = 1
var y int16 = 2

// x = y      // âŒ ä¸åŒæ•´æ•°ç±»å‹ä¸èƒ½ç›´æ¥èµ‹å€¼
x = int32(y)  // âœ… æ˜¾å¼ç±»å‹è½¬æ¢
```

* Go ç±»å‹ä¸¥æ ¼ï¼Œ**ä¸åŒæ•´æ•°ç±»å‹ä¹Ÿä¸èƒ½ç›´æ¥èµ‹å€¼**
* ä½¿ç”¨ `T(v)` çš„å½¢å¼è¿›è¡Œæ˜¾å¼è½¬æ¢ï¼š

```go
x = int32(y)
```

---

## 10. ğŸŒŠ Floating Point & Complexï¼ˆæµ®ç‚¹æ•°ä¸å¤æ•°ï¼‰

```go
var x float32  // ~6 ä½åè¿›åˆ¶ç²¾åº¦
var y float64  // ~15 ä½åè¿›åˆ¶ç²¾åº¦ï¼ˆé»˜è®¤ï¼‰
```

ç¤ºä¾‹ï¼š

```go
var a float64 = 123.45
var b float64 = 1.23e10
var z complex128 = 1 + 2i // å¤æ•°ï¼šå®éƒ¨+è™šéƒ¨
```

---

## 11. ğŸ”¤ ASCII, Unicode, Runeï¼ˆå­—ç¬¦ç¼–ç ï¼‰

### 11.1 ASCII

* `'A'` çš„ ASCII ç¼–ç æ˜¯ `0x41`
* æ—©æœŸä»…åŒ…å«è‹±è¯­å­—æ¯å’Œå°‘é‡ç¬¦å·

### 11.2 Unicode & UTF-8

* Unicodeï¼š**ç»Ÿä¸€çš„å­—ç¬¦é›†**ï¼Œä¸ºä¸–ç•Œä¸Šå¤§å¤šæ•°å­—ç¬¦åˆ†é… code pointï¼ˆç ç‚¹ï¼‰ï¼Œç†è®ºä¸Šæ˜¯ 32 bit çš„ç¼–ç ç©ºé—´
* UTF-8ï¼šå˜é•¿ç¼–ç æ–¹å¼ï¼Œå…¼å®¹ ASCII

  * å¯¹ ASCII å­—ç¬¦ä½¿ç”¨ 1 å­—èŠ‚
  * é ASCII å­—ç¬¦ä½¿ç”¨ 2â€“4 å­—èŠ‚

Go é»˜è®¤é‡‡ç”¨ UTF-8 ä½œä¸ºå­—ç¬¦ä¸²ç¼–ç ã€‚

### 11.3 Rune

* åœ¨ Go ä¸­ï¼Œ`rune` æ˜¯ `int32` çš„åˆ«å
* è¡¨ç¤ºä¸€ä¸ª Unicode code pointï¼ˆç ç‚¹ï¼‰

```go
var r rune = 'ä¸­'
fmt.Printf("%c\n", r)
```

---

## 12. ğŸ§µ Stringsï¼ˆå­—ç¬¦ä¸²ï¼‰

* å­—ç¬¦ä¸²æ˜¯ **åªè¯»ï¼ˆimmutableï¼‰** çš„å­—èŠ‚åºåˆ—
* é€šå¸¸æ˜¯ UTF-8 æ–‡æœ¬

```go
s := "Hi there"
fmt.Println(s)
```

---

## 13. ğŸ“¦ String-related Packagesï¼ˆå­—ç¬¦ä¸²ç›¸å…³æ ‡å‡†åº“ï¼‰

### 13.1 `unicode` åŒ…

* æŠŠå­—ç¬¦ï¼ˆruneï¼‰åˆ†æˆå¾ˆå¤šç±»åˆ«ï¼Œå¹¶æä¾›åˆ¤æ–­å‡½æ•°ï¼š

```go
unicode.IsDigit(r)   // æ˜¯å¦æ•°å­—
unicode.IsSpace(r)   // æ˜¯å¦ç©ºç™½å­—ç¬¦
unicode.IsLetter(r)  // æ˜¯å¦å­—æ¯
```

---

### 13.2 `strings` åŒ…

å¸¸ç”¨å‡½æ•°ï¼š

* `strings.ToUpper(s)` / `strings.ToLower(s)`
* `strings.Compare(a, b)`ï¼šæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å› -1 / 0 / 1
* `strings.Contains(s, substr)`
* `strings.HasPrefix(s, prefix)`
* `strings.Index(s, substr)`
* `strings.Replace(s, old, new, n)`
* `strings.TrimSpace(s)`

> å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œè¿™äº›å‡½æ•°éƒ½ä¼šè¿”å›ä¸€ä¸ª **æ–°çš„å­—ç¬¦ä¸²**ã€‚

---

### 13.3 `strconv` åŒ…

å­—ç¬¦ä¸²ä¸æ•°å€¼ä¹‹é—´è½¬æ¢ï¼š

* `strconv.Atoi(s)`ï¼šstring â†’ int
* `strconv.Itoa(i)`ï¼šint â†’ string
* `strconv.FormatFloat(f, fmt, prec, bitSize)`
* `strconv.ParseFloat(s, bitSize)`

---

## 14. ğŸ”’ Constants & `iota`ï¼ˆå¸¸é‡ä¸ iotaï¼‰

### 14.1 æ™®é€šå¸¸é‡

```go
const x = 1.3

const (
    y = 4
    z = "Hi"
)
```

* `const` å£°æ˜åœ¨ç¼–è¯‘æœŸå¿…é¡»ç¡®å®šçš„å¸¸é‡
* ä¸èƒ½åœ¨è¿è¡Œæ—¶ä¿®æ”¹

---

### 14.2 `iota`ï¼šè‡ªåŠ¨æšä¸¾å¸¸é‡

> iotaï¼šåœ¨åŒä¸€ä¸ª `const` å—ä¸­ï¼Œä¼šä» 0 å¼€å§‹ï¼Œé€è¡Œé€’å¢ã€‚é€‚åˆç”Ÿæˆä¸€ç»„â€œç›¸å…³ä½†ä¸åŒâ€çš„å¸¸é‡ï¼Œæ¯”å¦‚ï¼šæ˜ŸæœŸã€æœˆä»½ã€çŠ¶æ€ç ã€ç­‰çº§ç­‰ã€‚

```go
type Grade int

const (
    A Grade = iota // 0
    B              // 1
    C              // 2
    D              // 3
    F              // 4
)
```

**è¯´æ˜ï¼š**

* ç¬¬ä¸€è¡Œ `A Grade = iota` â†’ `A = 0`
* ä¸‹é¢æ¯ä¸€è¡Œå¦‚æœçœç•¥è¡¨è¾¾å¼ï¼Œä¼šè‡ªåŠ¨å¤ç”¨ä¸Šä¸€è¡Œçš„è¡¨è¾¾å¼ï¼ŒåŒæ—¶ `iota` +1

  * æ‰€ä»¥ `B = 1`, `C = 2`, `D = 3`, `F = 4`
* å¸¸é‡ä¹‹é—´å¿…é¡»ä¸åŒï¼Œä½†å®é™…æ•°å€¼æ˜¯å¤šå°‘ **é€šå¸¸ä¸é‡è¦**ï¼Œé‡è¦çš„æ˜¯å®ƒä»¬èƒ½åŒºåˆ†ä¸åŒçŠ¶æ€

---

## 15. ğŸ” Control Flowï¼ˆæ§åˆ¶æµï¼‰

### 15.1 `if` è¯­å¥

```go
if condition {
    // consequent
}
```

* `condition` å¿…é¡»æ˜¯ `bool` ç±»å‹

---

### 15.2 `for` å¾ªç¯

> Go ä¸­åªæœ‰ä¸€ä¸ªå¾ªç¯å…³é”®å­—ï¼š`for`

ç»å…¸å½¢å¼ï¼š

```go
for init; cond; update {
    // statements
}
```

ç¤ºä¾‹ï¼š

```go
for i := 0; i < 10; i++ {
    fmt.Println(i)
}
```

ä¹Ÿå¯ä»¥çœç•¥éƒ¨åˆ†ï¼Œå†™å‡ºç±»ä¼¼ `while` çš„æ•ˆæœï¼š

```go
for i < 10 {
    // ...
}
```

---

### 15.3 `switch` è¯­å¥

```go
switch x {
case 1:
    fmt.Printf("case1")
case 2:
    fmt.Printf("case2")
default:
    fmt.Printf("nocase")
}
```

---

### 15.4 Tagless Switchï¼ˆæ— æ ‡ç­¾ switchï¼‰

```go
switch {
case x > 1:
    // ...
case x < -1:
    // ...
default:
    fmt.Printf("nocase")
}
```

* `switch` åé¢ä¸å†™è¡¨è¾¾å¼
* æ¯ä¸ª `case` è‡ªå·±å†™å¸ƒå°”æ¡ä»¶
* éå¸¸é€‚åˆå¤šæ¡ä»¶åˆ†æ”¯åˆ¤æ–­

---

### 15.5 `break` & `continue`

```go
for i < 10 {
    i++
    if i == 5 {
        break // ç›´æ¥é€€å‡ºæ•´ä¸ªå¾ªç¯
    }
    fmt.Println("hi")
}
```

```go
for i < 10 {
    i++
    if i == 5 {
        continue // è·³è¿‡æœ¬æ¬¡å¾ªç¯å‰©ä½™ä»£ç ï¼Œæ‰§è¡Œä¸‹ä¸€æ¬¡
    }
    fmt.Println(i) 
    // è¾“å‡ºï¼š1 2 3 4 6 7 8 9 10
}
```

---

## 16. ğŸ“¥ `fmt.Scan`ï¼ˆè¾“å…¥ï¼‰

> `Scan` è¯»å–ç”¨æˆ·è¾“å…¥ï¼Œéœ€è¦ä¼ å…¥ **æŒ‡é’ˆ**ã€‚

```go
var appleNum int

fmt.Printf("number of apples? ")

num, err := fmt.Scan(&appleNum)
fmt.Println("appleNum =", appleNum, " read items:", num, " err:", err)
```

* `&appleNum`ï¼šæŠŠå˜é‡åœ°å€ä¼ ç»™ `Scan`ï¼Œè®©å®ƒç›´æ¥å†™å…¥è¿™ä¸ªå˜é‡
* è¿”å›å€¼ï¼š

  * `num`ï¼šè¯»å–åˆ°çš„é¡¹æ•°
  * `err`ï¼šé”™è¯¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰

---
